"use strict";(self.webpackChunksimple_scaffold_docs=self.webpackChunksimple_scaffold_docs||[]).push([[403],{1097:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>f,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var o=i(1527),s=i(3108);const l={title:"Configuration Files"},t=void 0,c={id:"usage/configuration_files",title:"Configuration Files",description:"If you want to have reusable configurations which are complex and don't fit into command lines",source:"@site/docs/usage/02-configuration_files.md",sourceDirName:"usage",slug:"/usage/configuration_files",permalink:"/simple-scaffold/docs/usage/configuration_files",draft:!1,unlisted:!1,editUrl:"https://github.com/chenasraf/simple-scaffold/blob/master/docs/docs/usage/02-configuration_files.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Configuration Files"},sidebar:"docs",previous:{title:"Template Files",permalink:"/simple-scaffold/docs/usage/templates"},next:{title:"CLI Usage",permalink:"/simple-scaffold/docs/usage/cli"}},r={},d=[{value:"Creating config files",id:"creating-config-files",level:2},{value:"Using a config file",id:"using-a-config-file",level:2},{value:"Supported file types",id:"supported-file-types",level:3},{value:"Git/GitHub Templates",id:"gitgithub-templates",level:3},{value:"Use In Node.js",id:"use-in-nodejs",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"If you want to have reusable configurations which are complex and don't fit into command lines\neasily, or just want to manage your templates easier, you can use configuration files to load your\nscaffolding configurations."}),"\n",(0,o.jsx)(n.h2,{id:"creating-config-files",children:"Creating config files"}),"\n",(0,o.jsxs)(n.p,{children:["Configuration files should be valid ",(0,o.jsx)(n.code,{children:".js"}),"/",(0,o.jsx)(n.code,{children:".mjs"}),"/",(0,o.jsx)(n.code,{children:".cjs"}),"/",(0,o.jsx)(n.code,{children:".json"})," files that contain valid Scaffold\nconfigurations."]}),"\n",(0,o.jsx)(n.p,{children:"Each file hold multiple scaffolds. Each scaffold is a key, and its value is the configuration. For\nexample:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'module.exports = {\n  component: {\n    templates: ["templates/component"],\n    output: "src/components",\n  },\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["For the full configuration options, see ",(0,o.jsx)(n.a,{href:"../api/modules#scaffoldconfigfile",children:"ScaffoldConfigFile"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If you want to supply functions inside the configurations, you must use a ",(0,o.jsx)(n.code,{children:".js"}),"/",(0,o.jsx)(n.code,{children:".cjs"}),"/",(0,o.jsx)(n.code,{children:".mjs"})," file\nas JSON does not support non-primitives."]}),"\n",(0,o.jsxs)(n.p,{children:["Another feature of using a JS file is you can export a function which will be loaded with the CMD\nconfig provided to Simple Scaffold. The ",(0,o.jsx)(n.code,{children:"extra"})," key contains any values not consumed by built-in\nflags, so you can pre-process your args before outputting a config:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'/** @type {import(\'simple-scaffold\').ScaffoldConfigFile} */\nmodule.exports = (config) => {\n  console.log("Config:", config)\n  return {\n    component: {\n      templates: ["templates/component"],\n      output: "src/components",\n    },\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["If you want to provide templates that need no name (such as common config files which are easily\nportable between projects), you may provide the ",(0,o.jsx)(n.code,{children:"name"})," property in the config object."]}),"\n",(0,o.jsxs)(n.p,{children:["You will always be able to override it using ",(0,o.jsx)(n.code,{children:"--name NewName"}),", but it will be given a value by\ndefault and therefore it will no longer be required in the CLI arguments."]}),"\n",(0,o.jsx)(n.h2,{id:"using-a-config-file",children:"Using a config file"}),"\n",(0,o.jsxs)(n.p,{children:["Once your config is created, you can use it by providing the file name to the ",(0,o.jsx)(n.code,{children:"--config"})," (or ",(0,o.jsx)(n.code,{children:"-c"}),"\nfor brevity), optionally alongside ",(0,o.jsx)(n.code,{children:"--key"})," or ",(0,o.jsx)(n.code,{children:"-k"}),", denoting the key to use as the config object, as\nyou define in your config:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"simple-scaffold -c <file> -k <template_key>\n"})}),"\n",(0,o.jsx)(n.p,{children:"For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"simple-scaffold -c scaffold.json -k component MyComponentName\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If you don't want to supply a template/config name (e.g. ",(0,o.jsx)(n.code,{children:"component"}),"), ",(0,o.jsx)(n.code,{children:"default"})," will be used:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"/** @type {import('simple-scaffold').ScaffoldConfigFile} */\nmodule.exports = {\n  default: {\n    // ...\n  },\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"And then:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"# will use 'default' template\nsimple-scaffold -c scaffold.json MyComponentName\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"When the a directory is given, the following files in the given directory will be tried in order:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"scaffold.config.*"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"scaffold.*"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Where ",(0,o.jsx)(n.code,{children:"*"})," denotes any supported file extension, in the priority listed in\n",(0,o.jsx)(n.a,{href:"#supported-file-types",children:"Supported file types"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["When the ",(0,o.jsx)(n.code,{children:"template_key"})," is ommitted, ",(0,o.jsx)(n.code,{children:"default"})," will be used as default."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"supported-file-types",children:"Supported file types"}),"\n",(0,o.jsx)(n.p,{children:"Any importable file is supported, depending on your build process."}),"\n",(0,o.jsx)(n.p,{children:"Common files include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"*.mjs"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"*.cjs"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"*.js"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"*.json"})}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"When filenames are ommited when loading configs, these are the file extensions that will be\nautomatically tried, by the specified order of priority."}),"\n",(0,o.jsxs)(n.p,{children:["Note that you might need to find the correct extension of ",(0,o.jsx)(n.code,{children:".js"}),", ",(0,o.jsx)(n.code,{children:".cjs"})," or ",(0,o.jsx)(n.code,{children:".mjs"})," depending on your\nbuild process and your package type (for example, packages with ",(0,o.jsx)(n.code,{children:'"type": "module"'})," in their\n",(0,o.jsx)(n.code,{children:"package.json"})," might be required to use ",(0,o.jsx)(n.code,{children:".mjs"}),".)"]}),"\n",(0,o.jsx)(n.h3,{id:"gitgithub-templates",children:"Git/GitHub Templates"}),"\n",(0,o.jsx)(n.p,{children:"You may specify a git or GitHub url to use remote templates."}),"\n",(0,o.jsxs)(n.p,{children:["The command line option is ",(0,o.jsx)(n.code,{children:"--git"})," or ",(0,o.jsx)(n.code,{children:"-g"}),"."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"You may specify a full git or HTTPS git URL, which will be tried"}),"\n",(0,o.jsx)(n.li,{children:"You may specify a git username and project if the project is on GitHub"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"# GitHub shorthand\nsimple-scaffold -g <username>/<project_name> [-c <filename>] [-k <template_key>]\n\n# Any git URL, git:// and https:// are supported\nsimple-scaffold -g git://gitlab.com/<username>/<project_name> [-c <filename>] [-k <template_key>]\nsimple-scaffold -g https://gitlab.com/<username>/<project_name>.git [-c <filename>] [-k <template_key>]\n"})}),"\n",(0,o.jsx)(n.p,{children:"When a config file path is omitted, the files given in the list above will be tried on the root\ndirectory of the git repository."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," The repository will be cloned to a temporary directory and removed after the scaffolding\nhas been done."]}),"\n",(0,o.jsx)(n.h2,{id:"use-in-nodejs",children:"Use In Node.js"}),"\n",(0,o.jsx)(n.p,{children:"You can also start a scaffold from Node.js with a remote file or URL config."}),"\n",(0,o.jsxs)(n.p,{children:["Just use the ",(0,o.jsx)(n.code,{children:"Scaffold.fromConfig"})," function:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'Scaffold.fromConfig(\n  "scaffold.config.js", // file or HTTPS git URL\n  {\n    // name of the generated component\n    name: "My Component",\n    // key to load from the config\n    key: "component",\n  },\n  {\n    // other config overrides\n  },\n)\n'})})]})}function f(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},3108:(e,n,i)=>{i.d(n,{Z:()=>c,a:()=>t});var o=i(959);const s={},l=o.createContext(s);function t(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);